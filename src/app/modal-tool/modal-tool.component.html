<div class="modal-container">
  <h2 class="modal-title">{{ isEditMode ? 'Modifier' : 'Nouvel' }} Outil</h2>
  
  <form [formGroup]="toolForm" (ngSubmit)="save()" class="tool-form">
    <div class="form-grid">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Source *</mat-label>
        <input matInput formControlName="source" required placeholder="Ex: GitHub, GitLab, Docker...">
        <mat-icon matSuffix>build</mat-icon>
        <mat-error *ngIf="toolForm.get('source')?.hasError('required')">
          La source est obligatoire
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Date *</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="date" required>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-error *ngIf="toolForm.get('date')?.hasError('required')">
          La date est obligatoire
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-actions">
      <button mat-button type="button" (click)="close()">
        <mat-icon>close</mat-icon>
        Annuler
      </button>
      <button mat-raised-button color="primary" type="submit" [disabled]="toolForm.invalid">
        <mat-icon>{{ isEditMode ? 'edit' : 'save' }}</mat-icon>
        {{ isEditMode ? 'Mettre Ã  jour' : 'Enregistrer' }}
      </button>
    </div>
  </form>
</div>